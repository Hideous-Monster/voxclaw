{
  "id": "openclaw-discord-voice",
  "name": "Discord Voice",
  "version": "0.1.0",
  "description": "Voice channel support for Discord — talk to your OpenClaw hands-free.",
  "configSchema": {
    "type": "object",
    "additionalProperties": false,
    "required": ["watchUserId", "voiceChannelId", "gatewayUrl", "gatewayToken"],
    "properties": {
      "botToken": {
        "type": "string",
        "description": "Separate Discord bot token (optional — falls back to channels.discord.token)"
      },
      "watchUserId": {
        "type": "string",
        "description": "Discord user ID to follow into voice channels"
      },
      "voiceChannelId": {
        "type": "string",
        "description": "Discord voice channel ID to join"
      },
      "autoJoin": {
        "type": "boolean",
        "default": true,
        "description": "Auto-join when the watched user enters the channel"
      },
      "gatewayUrl": {
        "type": "string",
        "description": "OpenClaw gateway base URL (e.g. http://localhost:18789)"
      },
      "gatewayToken": {
        "type": "string",
        "description": "OpenClaw gateway auth token"
      },
      "sessionKey": {
        "type": "string",
        "default": "voice:default",
        "description": "Session key for persistent voice conversation memory"
      },
      "agentId": {
        "type": "string",
        "default": "voice",
        "description": "Agent ID for chat completions (e.g. 'voice' for a faster model)"
      },
      "stt": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "provider": { "type": "string", "enum": ["openai"], "default": "openai" },
          "apiKey": { "type": "string", "description": "OpenAI API key (falls back to OPENAI_API_KEY)" },
          "model": { "type": "string", "default": "whisper-1" }
        }
      },
      "tts": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "provider": { "type": "string", "enum": ["openai", "elevenlabs"], "default": "openai" },
          "apiKey": { "type": "string", "description": "TTS API key (falls back to OPENAI_API_KEY or ELEVENLABS_API_KEY)" },
          "model": { "type": "string", "default": "gpt-4o-mini-tts" },
          "voice": { "type": "string", "default": "nova" },
          "instructions": { "type": "string", "description": "Style instructions for gpt-4o-mini-tts voice delivery" },
          "voiceId": { "type": "string", "description": "ElevenLabs voice ID (Phase 2)" },
          "modelId": { "type": "string", "description": "ElevenLabs model ID (Phase 2)" }
        }
      },
      "vad": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "silenceThresholdMs": { "type": "number", "default": 500 },
          "minSpeechMs": { "type": "number", "default": 200 },
          "maxUtteranceSec": { "type": "number", "default": 120, "description": "Safety cap on single utterance length" }
        }
      }
    }
  },
  "uiHints": {
    "botToken": { "label": "Discord Bot Token (optional)", "sensitive": true },
    "gatewayToken": { "label": "Gateway Token", "sensitive": true },
    "stt.apiKey": { "label": "OpenAI API Key (STT)", "sensitive": true },
    "tts.apiKey": { "label": "TTS API Key", "sensitive": true }
  }
}
